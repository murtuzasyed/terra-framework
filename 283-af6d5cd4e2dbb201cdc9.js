(window.webpackJsonp=window.webpackJsonp||[]).push([[283],{2064:function(t,e,n){"use strict";n.r(e),e.default="# Terra Navigation Prompt - Implementation Guide\n\n## Part 1 - Implementing the NavigationPrompt and NavigationPromptCheckpoint\n\nTo better notify the user of the Form's transient state, we update the Form to render a NavigationPrompt.\n\n```diff\n- import React, { useState } from 'react';\n+ import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n+ import NavigationPrompt, { NavigationPromptCheckpoint } from 'terra-navigation-prompt';\n\nconst Form = ({ title }) => {\n  const [inputValue, setInputValue] = useState('');\n\n  return (\n    <div>\n      <p>{title}</p>\n+     {inputValue.length ? <NavigationPrompt description={title} /> : undefined}\n      <input\n        type=\"text\"\n        onChange={(event) => {\n          setInputValue(event.target.value);\n        }}\n        value={inputValue}\n      />\n      <button\n        type=\"button\"\n        onClick={() => {\n          setInputValue('');\n        }}\n      >\n        Submit\n      </button>\n    </div>\n  );\n};\n```\n\nThe Form renders the NavigationPrompt when the input has a non-empty value. If it were to render the NavigationPrompt at all times, the user would be prompted inappropriately when the input is empty.\n\nThe Form provides its `title` prop as the NavigationPrompt's `description` prop to give it an identifying feature. The `description` doesn't need to be unique across all rendered NavigationPrompts, but it should give our users a good idea of where the unsaved changes are at. For our purposes, the Form's `title` is sufficient.\n\nNow that the Form is rendering a NavigationPrompt, the FormSwitcher needs to render a NavigationPromptCheckpoint around the Form to detect that prompt.\n\n```diff\nconst FormSwitcher = () => {\n  const [activeForm, setActiveForm] = useState('Form 1');\n+ const formCheckpointRef = useRef();\n\n  function onSwitchForm(formKey) {\n+   formCheckpointRef.current.resolvePrompts({\n+     title: 'Descriptive Notification Prompt Title',\n+     message: 'Descriptive Notification Prompt Message',\n+     rejectButtonText: `Descriptive Reject Button Action`,\n+     acceptButtonText: 'Descriptive Accept Button Action',\n+   }).then(() => {\n      setActiveForm(formKey);\n+   });\n  }\n\n  return (\n    <div>\n      <h2>Form Switcher</h2>\n-     <p>The NavigationPrompt is not implemented, so no prompting occurs.</p>\n+     <p>The user will be prompted with the provided messaging when Forms are switched with unsaved changes present.</p>\n      <button\n        type=\"button\"\n        disabled={activeForm === 'Form 1'}\n        onClick={onSwitchForm.bind(null, 'Form 1')}\n      >\n        Switch to Form 1\n      </button>\n      <button\n        type=\"button\"\n        disabled={activeForm === 'Form 2'}\n        onClick={onSwitchForm.bind(null, 'Form 2')}\n      >\n        Switch to Form 2\n      </button>\n+     <NavigationPromptCheckpoint\n+       ref={formCheckpointRef}\n+     >\n        <Form title={activeForm} key={activeForm} />\n+      </NavigationPromptCheckpoint>\n    </div>\n  );\n};\n```\n\nThe FormSwitcher gets a ref to the NavigationPromptCheckpoint; this example uses the [useRef hook](https://reactjs.org/docs/hooks-reference.html#useref), but any of the supported ref retrieval methods would be sufficient. The FormSwitcher then uses this ref to call the `resolvePrompts` function when it wants to switch to a new Form.\n\nThe `resolvePrompts` function is an instance function of the NavigationPromptCheckpoint. When `resolvePrompts` is called, the NavigationPromptCheckpoint will render a NotificationDialog and return a [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises). The Promise will be resolved immediately if no NavigationPrompts have been rendered below the checkpoint, so we don't need to check for the presence of any NavigationPrompts before we call it. The Promise will also resolve if a user presses the NotificationDialog's accept action button. The Promise will reject if a user presses the NotificationDialog's reject action button. In our example, we only update the FormSwitcher's state when the Promise is resolved.\n\nWith those changes in place, the FormSwitcher will prompt the user for confirmation when they attempt to switch away from Forms with unsaved data.\n"},2065:function(t,e,n){"use strict";var o=n(19),i=n(5);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(128)),a=o(n(0)),p=i(n(2)),s=o(n(1367)),c=function(t){var e=t.title,n=(0,a.useState)(""),o=(0,r.default)(n,2),i=o[0],p=o[1];return a.default.createElement("div",null,a.default.createElement("p",null,e),i.length?a.default.createElement(s.default,{description:e}):void 0,a.default.createElement("input",{type:"text",onChange:function(t){p(t.target.value)},value:i}),a.default.createElement("button",{type:"button",onClick:function(){p("")}},"Submit"))};c.propTypes={title:p.default.string};var u=function(){var t=(0,a.useState)("Form 1"),e=(0,r.default)(t,2),n=e[0],o=e[1],i=(0,a.useRef)();function p(t){i.current.resolvePrompts({title:"Descriptive Notification Prompt Title",message:"Descriptive Notification Prompt Message",rejectButtonText:"Descriptive Reject Button Action",acceptButtonText:"Descriptive Accept Button Action"}).then((function(){o(t)})).catch((function(){}))}return a.default.createElement("div",null,a.default.createElement("h2",null,"Form Switcher"),a.default.createElement("p",null,"The user will be prompted with the provided messaging when Forms are switched with unsaved changes present."),a.default.createElement("button",{type:"button",disabled:"Form 1"===n,onClick:p.bind(null,"Form 1")},"Switch to Form 1"),a.default.createElement("button",{type:"button",disabled:"Form 2"===n,onClick:p.bind(null,"Form 2")},"Switch to Form 2"),a.default.createElement(s.NavigationPromptCheckpoint,{ref:i},a.default.createElement(c,{title:n,key:n})))};e.default=u},2066:function(t,e,n){"use strict";n.r(e),e.default="import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport NavigationPrompt, { NavigationPromptCheckpoint } from 'terra-navigation-prompt';\n\nconst Form = ({ title }) => {\n  const [inputValue, setInputValue] = useState('');\n\n  return (\n    <div>\n      <p>{title}</p>\n      {inputValue.length ? <NavigationPrompt description={title} /> : undefined}\n      <input\n        type=\"text\"\n        onChange={(event) => {\n          setInputValue(event.target.value);\n        }}\n        value={inputValue}\n      />\n      <button\n        type=\"button\"\n        onClick={() => {\n          setInputValue('');\n        }}\n      >\n        Submit\n      </button>\n    </div>\n  );\n};\n\nForm.propTypes = {\n  title: PropTypes.string,\n};\n\nconst FormSwitcher = () => {\n  const [activeForm, setActiveForm] = useState('Form 1');\n  const formCheckpointRef = useRef();\n\n  function onSwitchForm(formKey) {\n    formCheckpointRef.current.resolvePrompts({\n      title: 'Descriptive Notification Prompt Title',\n      message: 'Descriptive Notification Prompt Message',\n      rejectButtonText: 'Descriptive Reject Button Action',\n      acceptButtonText: 'Descriptive Accept Button Action',\n    }).then(() => {\n      setActiveForm(formKey);\n    }).catch(() => {\n    });\n  }\n\n  return (\n    <div>\n      <h2>Form Switcher</h2>\n      <p>The user will be prompted with the provided messaging when Forms are switched with unsaved changes present.</p>\n      <button\n        type=\"button\"\n        disabled={activeForm === 'Form 1'}\n        onClick={onSwitchForm.bind(null, 'Form 1')}\n      >\n        Switch to Form 1\n      </button>\n      <button\n        type=\"button\"\n        disabled={activeForm === 'Form 2'}\n        onClick={onSwitchForm.bind(null, 'Form 2')}\n      >\n        Switch to Form 2\n      </button>\n      <NavigationPromptCheckpoint\n        ref={formCheckpointRef}\n      >\n        <Form title={activeForm} key={activeForm} />\n      </NavigationPromptCheckpoint>\n    </div>\n  );\n};\n\nexport default FormSwitcher;\n"},2312:function(t,e,n){"use strict";var o=n(5);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(0)),r=o(n(961)),a=o(n(2064)),p=o(n(2065)),s=o(n(2066)),c=function(){return i.default.createElement(r.default,{packageName:"terra-navigation-prompt",srcPath:"https://github.com/cerner/terra-framework/tree/master/packages/terra-navigation-prompt",readme:a.default,examples:[{title:"Part 1 - Implementing the NavigationPrompt and NavigationPromptCheckpoint",example:i.default.createElement(p.default,null),source:s.default}]})};e.default=c}}]);
//# sourceMappingURL=283-af6d5cd4e2dbb201cdc9.js.map